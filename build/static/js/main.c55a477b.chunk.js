(this.webpackJsonpstarting_code=this.webpackJsonpstarting_code||[]).push([[0],{19:function(e,t,n){e.exports=n(30)},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),o=n.n(c),s=n(7),l=n(10),u=n(1),i=n(3),d=n.n(i),m=n(8),p="https://calm-fjord-72273.herokuapp.com/api";function E(e,t){return h.apply(this,arguments)}function h(){return(h=Object(m.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function v(e,t,n,r){return f.apply(this,arguments)}function f(){return(f=Object(m.a)(d.a.mark((function e(t,n,r,a){var c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n,email:r,address:a})});case 3:return c=e.sent,e.next=6,c.json();case 6:return o=e.sent,e.abrupt("return",o);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/orders/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var y=function(e){var t=e.setIsLoggedIn,n=e.isLoggedIn,c=e.setLoginToken,o=e.setGlobalUserId,l=Object(r.useState)(""),u=Object(s.a)(l,2),i=u[0],p=u[1],h=Object(r.useState)(""),f=Object(s.a)(h,2),b=f[0],g=f[1],y=Object(r.useState)(""),j=Object(s.a)(y,2),O=j[0],w=j[1],k=Object(r.useState)(""),x=Object(s.a)(k,2),C=x[0],S=x[1],I=Object(r.useState)(""),L=Object(s.a)(I,2),T=L[0],U=L[1],N=Object(r.useState)(""),B=Object(s.a)(N,2),D=B[0],F=B[1];return a.a.createElement("div",null,n?a.a.createElement("div",{id:"logout"},a.a.createElement("button",{type:"submit",onClick:function(){t(!1),c(""),p(""),g("")}},"Logout")):a.a.createElement("div",{className:"formContainer"},a.a.createElement("div",{id:"loginForm"},a.a.createElement("h3",null,"Login"),a.a.createElement("form",{className:"loginRegister",onSubmit:function(){var e=Object(m.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,E(i,b);case 4:(r=e.sent).token?(t(!0),c(r.token),o(r.user.id),p(""),g("")):t(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(!1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"enterUsername"},"Enter username: "),a.a.createElement("input",{id:"enterUsername",type:"text",placeholder:"Enter your username",value:i,onChange:function(e){return p(e.target.value)},required:!0})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"enterPassword"},"Enter password:"),a.a.createElement("input",{id:"enterPassword",type:"password",placeholder:"enter your password",value:b,onChange:function(e){return g(e.target.value)},required:!0})),a.a.createElement("button",{type:"submit",id:"logInButton"},"Log In"))),a.a.createElement("div",{id:"registerForm"},a.a.createElement("h3",null,"Register"),a.a.createElement("form",{className:"loginRegister",onSubmit:function(){var e=Object(m.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,v(O,C,T,D);case 4:(r=e.sent).token?(t(!0),c(r.token),o(r.user.id),w(""),S(""),U(""),F("")):t(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(!1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"enterDesiredUsername"},"Username: "),a.a.createElement("input",{id:"enterDesiredUsername",type:"text",placeholder:"Enter your desired username",value:O,onChange:function(e){return w(e.target.value)},required:!0})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"enterDesiredPassword"},"Password:"),a.a.createElement("input",{id:"enterDesiredPassword",type:"password",placeholder:"Enter your desired password",value:C,onChange:function(e){return S(e.target.value)},required:!0})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"enterEmail"},"Email:"),a.a.createElement("input",{id:"enterEmail",type:"text",placeholder:"Enter your email",value:T,onChange:function(e){return U(e.target.value)},required:!0})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"enterAddress"},"Address:"),a.a.createElement("input",{id:"enterAddress",type:"text",placeholder:"Enter your address",value:D,onChange:function(e){return F(e.target.value)},required:!0})),a.a.createElement("button",{type:"submit",id:"registerButton"},"Sign Up")))))},j=function(e){return a.a.createElement("div",{id:"navBar",style:{margin:"10px 0px"}},a.a.createElement(l.b,{to:"/login"},a.a.createElement("button",{className:"linkButton"},"Login")),a.a.createElement(l.b,{to:"/myorders"},a.a.createElement("button",{className:"linkButton"},"My Orders")),a.a.createElement(l.b,{to:"/cart"},a.a.createElement("button",{className:"linkButton"},"My Cart")))},O=function(e){var t=e.loginToken;return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.t0=console,e.next=4,b(t);case 4:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[]),a.a.createElement("div",{id:"ordersListContainer"},"Orders List")},w=function(e){return a.a.createElement("div",{id:"orderDetailsContainer"},"Order Details")},k=function(e){var t=e.loginToken;return a.a.createElement("div",{id:"ordersContainer"},a.a.createElement(O,{loginToken:t}),a.a.createElement(w,null))},x=function(e){e.globalUserId;return a.a.createElement("div",{id:"cart"},"Cart")},C=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),i=Object(s.a)(o,2),d=i[0],m=i[1],p=Object(r.useState)(""),E=Object(s.a)(p,2),h=E[0],v=E[1];return a.a.createElement(l.a,null,a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Hello, World!"),a.a.createElement(j,null),a.a.createElement(u.a,{path:"/login"},a.a.createElement(y,{isLoggedIn:n,setIsLoggedIn:c,setLoginToken:m,setGlobalUserId:v})),a.a.createElement(u.a,{path:"/myorders"},a.a.createElement(k,{loginToken:d})),a.a.createElement(u.a,{path:"/cart"},a.a.createElement(x,{globalUserId:h}))))};o.a.render(a.a.createElement(C,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.c55a477b.chunk.js.map